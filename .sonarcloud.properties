# SonarCloud configuration for Grovekeeper
# https://docs.sonarsource.com/sonarqube-cloud/advanced-setup/analysis-scope/

sonar.organization=arcade-cabinet
sonar.projectKey=arcade-cabinet_grovekeeper

# Source configuration
sonar.sources=src
sonar.tests=src
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx
sonar.exclusions=**/node_modules/**,**/dist/**,**/public/**

# TypeScript configuration - point to root tsconfig to avoid S4325 false positives
# See: https://community.sonarsource.com/t/sudden-increase-of-false-positives-for-s4325/94441
sonar.typescript.tsconfigPaths=tsconfig.json

# Suppress S4325 (non-null assertion) in ECS system files.
# Miniplex ECS types components as optional (tree?: TreeComponent) but after
# query filtering (world.with('tree')), components are guaranteed present.
# The ! assertion is the correct and only way to access them.
sonar.issue.ignore.multicriteria=e1
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S4325
sonar.issue.ignore.multicriteria.e1.resourceKey=src/game/**/*.ts
